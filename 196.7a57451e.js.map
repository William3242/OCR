{"version":3,"file":"js/196.7a57451e.js","mappings":"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","sources":["webpack://learn-vue/./src/views/users/index.vue","webpack://learn-vue/src/views/users/index.vue","webpack://learn-vue/./src/views/users/index.vue?3194","webpack://learn-vue/./src/views/users/index.vue?d9d3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"用户管理\")]),_c('el-breadcrumb-item',[_vm._v(\"用户数据\")])],1),_c('el-card',[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索的内容\",\"clearable\":\"\"},on:{\"clear\":_vm.getUserList},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.getUserList},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":4}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible=true}}},[_vm._v(\"添加用户\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.userList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"姓名\"}}),_c('el-table-column',{attrs:{\"prop\":\"sex\",\"label\":\"性别\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile\",\"label\":\"电话\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{on:{\"change\":function($event){return _vm.userStateChange(scope.row)}},model:{value:(scope.row.mg_state),callback:function ($$v) {_vm.$set(scope.row, \"mg_state\", $$v)},expression:\"scope.row.mg_state\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}}),_c('el-tooltip',{attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"top\",\"enterable\":false}},[_c('el-button',{attrs:{\"type\":\"warning\",\"icon\":\"el-icon-setting\",\"size\":\"mini\",\"circle\":\"\"}})],1)]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.queryInfo.pagenum,\"page-sizes\":[1, 2, 5, 10],\"page-size\":_vm.queryInfo.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"visible\":_vm.addDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户id\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.userid),callback:function ($$v) {_vm.$set(_vm.addForm, \"userid\", $$v)},expression:\"addForm.userid\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.addForm.username),callback:function ($$v) {_vm.$set(_vm.addForm, \"username\", $$v)},expression:\"addForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.addForm.email),callback:function ($$v) {_vm.$set(_vm.addForm, \"email\", $$v)},expression:\"addForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号 \",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"修改用户\",\"visible\":_vm.editDialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"model\":_vm.editForm,\"rules\":_vm.addFormRules,\"label-width\":\"70px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.editForm.username),callback:function ($$v) {_vm.$set(_vm.editForm, \"username\", $$v)},expression:\"editForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('el-input',{model:{value:(_vm.editForm.email),callback:function ($$v) {_vm.$set(_vm.editForm, \"email\", $$v)},expression:\"editForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号 \",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- 面包屑导航区域 -->\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      <el-breadcrumb-item>用户数据</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n\r\n    <!-- 卡片视图 -->\r\n    <el-card>\r\n      <!-- 搜索与添加区域 -->\r\n      <el-row :gutter=\"20\">\r\n        <el-col :span=\"8\">\r\n          <el-input placeholder=\"请输入搜索的内容\" v-model=\"queryInfo.query\" clearable @clear=\"getUserList\">\r\n            <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getUserList\"></el-button>\r\n          </el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <el-button type=\"primary\" @click=\"addDialogVisible=true\">添加用户</el-button>\r\n        </el-col>\r\n      </el-row>\r\n      <!-- 用户列表区域 -->\r\n      <el-table :data=\"userList\" style=\"width: 100%\" border stripe>\r\n        <el-table-column type=\"index\"> </el-table-column>\r\n        <el-table-column prop=\"username\" label=\"姓名\"> </el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\"> </el-table-column>\r\n        <el-table-column prop=\"email\" label=\"邮箱\"> </el-table-column>\r\n        <el-table-column prop=\"mobile\" label=\"电话\"></el-table-column>\r\n        <el-table-column label=\"状态\">\r\n          <!-- 作用域插槽 会覆盖prop -->\r\n          <template slot-scope=\"scope\">\r\n            <el-switch\r\n                v-model=\"scope.row.mg_state\"\r\n                @change=\"userStateChange(scope.row)\">\r\n            </el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 修改按钮 -->\r\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" circle @click=\"showEditDialog(scope.row.id)\"></el-button>\r\n            <!-- 删除按钮 -->\r\n            <el-button type=\"danger\" icon=\"el-icon-delete\" size=\"mini\" circle @click=\"removeUserById(scope.row.id)\"></el-button>\r\n            <!-- 分配角色按钮 添加消息提示 -->\r\n            <el-tooltip effect=\"dark\" content=\"分配角色\" placement=\"top\" :enterable=\"false\">\r\n              <el-button type=\"warning\" icon=\"el-icon-setting\" size=\"mini\" circle></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页区域 -->\r\n      <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :current-page=\"queryInfo.pagenum\"\r\n          :page-sizes=\"[1, 2, 5, 10]\"\r\n          :page-size=\"queryInfo.pagesize\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"total\">\r\n      </el-pagination>\r\n    </el-card>\r\n    <!-- 添加用户的对话框 -->\r\n    <el-dialog\r\n        title=\"添加用户\"\r\n        :visible.sync=\"addDialogVisible\"\r\n        width=\"50%\"\r\n        @close=\"addDialogClosed\">\r\n      <!-- 内容主体区域 -->\r\n      <el-form :model=\"addForm\" :rules=\"addFormRules\" ref=\"addFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户id\" prop=\"password\">\r\n          <el-input v-model=\"addForm.userid\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"用户名\" prop=\"username\">\r\n          <el-input v-model=\"addForm.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"addForm.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"addForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号 \" prop=\"mobile\">\r\n          <el-input v-model=\"addForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n    <!-- 修改用户的对话框 -->\r\n    <el-dialog\r\n        title=\"修改用户\"\r\n        :visible.sync=\"editDialogVisible\"\r\n        width=\"50%\" @close=\"editDialogClosed\">\r\n      <!-- 内容主体区域 -->\r\n      <el-form :model=\"editForm\" :rules=\"addFormRules\" ref=\"editFormRef\" label-width=\"70px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"editForm.username\" disabled></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"editForm.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号 \" prop=\"mobile\">\r\n          <el-input v-model=\"editForm.mobile\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <!-- 底部区域 -->\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    // 验证邮箱的规则\r\n    // var checkEmail = (rule, value, callback) => {\r\n    //   // 验证邮箱的正则表达式\r\n    //   const regEmail = /^([a-zA-Z0-9_-])+@(a-zA-Z0-9_-])+(\\.a-zA-Z0-9_-)+/\r\n    //   if (regEmail.test(value)) {\r\n    //     // 合法的邮箱\r\n    //     return callback()\r\n    //   }\r\n    //   callback(new Error('请输入合法的邮箱'))\r\n    // }\r\n\r\n    // 验证手机号的规则\r\n    var checkMoblie = (rule, value, callback) => {\r\n      // 验证手机号的正则表达式\r\n      const regMoblie = /^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\\d{8}$/\r\n      if (regMoblie.test(value)) {\r\n        return callback()\r\n      }\r\n      callback(new Error('请输入合法的手机号'))\r\n    }\r\n    return {\r\n      // 获取用户列表的参数对象\r\n      queryInfo: {\r\n        query: '',\r\n        // 当前页数\r\n        pagenum: 1,\r\n        // 当前每页显示多少条数据\r\n        pagesize: 2\r\n      },\r\n      userList: [{\r\n        userid:'100001',\r\n        sex:'男',\r\n        username: 'William',\r\n        email: '1234567@qq.com',\r\n        mobile: '12312344321'\r\n      },\r\n        {\r\n          userid:'100002',\r\n          sex:'女',\r\n          username: 'Alice',\r\n          email: '1234567@qq.com',\r\n          mobile: '12312344321'\r\n        },\r\n        {\r\n          userid:'100003',\r\n          sex:'男',\r\n          username: 'Bob',\r\n          email: '1234567@qq.com',\r\n          mobile: '12312344321'\r\n        }],\r\n      total: 0,\r\n      // 控制对话框显示与隐藏\r\n      addDialogVisible: false,\r\n      // 添加用户的表单数据\r\n      addForm: {\r\n        userid:'',\r\n        username: '',\r\n        password: '',\r\n        email: '',\r\n        mobile: ''\r\n      },\r\n      // 添加表单的验证规则对象\r\n      addFormRules: {\r\n        username: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          { min: 3, max: 10, message: '用户名的长度在3-10个字符之间', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          { min: 6, max: 15, message: '密码的长度在6-15个字符之间', trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n          // { validator: checkEmail, trigger: 'blur' },\r\n          { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n          { validator: checkMoblie, trigger: 'blur' }\r\n          // { type: 'mobliephone', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\r\n        ]\r\n      },\r\n      // 控制修改用户对话框的显示与隐藏\r\n      editDialogVisible: false,\r\n      // 查询到的用户的信息对象\r\n      editForm: {}\r\n      // 修改表单的验证规则对象\r\n      // editFormRules\r\n    }\r\n  },\r\n  /* 暂未搭建服务器 */\r\n  // created() {\r\n  //   this.getUserList()\r\n  // },\r\n  methods: {\r\n    // async getUserList() {\r\n    //   const { data: result } = await this.$http.get('users', {\r\n    //     params: this.queryInfo\r\n    //   })\r\n    //   if (result.meta.status !== 200) return this.$message.error('获取用户列表失败！')\r\n    //   this.userList = result.data.users\r\n    //   this.total = result.data.total\r\n    //   console.log(result)\r\n    // },\r\n    // 监听 pagesize 改变的事件\r\n    handleSizeChange(newSize) {\r\n      // console.log(newSize)\r\n      this.queryInfo.pagesize = newSize\r\n      this.getUserList()\r\n    },\r\n    // 监听页码值改变的事件\r\n    handleCurrentChange(newPage) {\r\n      // console.log(newPage)\r\n      this.queryInfo.pagenum = newPage\r\n      this.getUserList()\r\n    },\r\n    // 监听switch开关状态的改变\r\n    async userStateChange(userinfo) {\r\n      console.log(userinfo.mg_state)\r\n      // 发送请求进行状态修改\r\n      const { data: result } = await this.$http.put(`users/${userinfo.id}/state/${userinfo.mg_state}`)\r\n      if (result.meta.status !== 200) {\r\n        userinfo.mg_state = !userinfo.mg_state\r\n        return this.$message.error('更新用户状态失败')\r\n      }\r\n      this.$message.success('更新用户状态成功')\r\n    },\r\n    // 监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 点击按钮，添加新用户\r\n    addUser() {\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        // console.log(valid)\r\n        if (!valid) return\r\n        // 发起添加用户的网路请求\r\n        const { data: result } = await this.$http.post('users', this.addForm)\r\n        if (result.meta.status !== 201) {\r\n          this.$message.error('添加用户失败！')\r\n        }\r\n        this.$message.success('添加用户成功！')\r\n        // 隐藏添加用户的对话框\r\n        this.addDialogVisible = false\r\n        // 重新获取列表数据\r\n        this.getUserList()\r\n      })\r\n    },\r\n    // 展示编辑用户的对话框\r\n    async showEditDialog(id) {\r\n      this.editDialogVisible = true\r\n      const { data: result } = await this.$http.get('users/' + id)\r\n      if (result.meta.status !== 200) {\r\n        return this.$message('查询用户信息失败！')\r\n      }\r\n      this.editForm = result.data\r\n    },\r\n    // 监听修改用户对话框的关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改用户信息，并提交\r\n    editUserInfo() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        // console.log(valid)\r\n        if (!valid) return\r\n        // 发起修改用户信息的数据请求\r\n        const { data: result } = await this.$http.put('users/' + this.editForm.id, { email: this.editForm.email, mobile: this.editForm.mobile })\r\n        if (result.meta.status !== 200) return this.$message.error('更新用户失败')\r\n        // 关闭对话框\r\n        this.editDialogVisible = false\r\n        // 重新获取用户列表\r\n        this.getUserList()\r\n        // 提示修改成功\r\n        this.$message.success('更新用户信息成功')\r\n      })\r\n    },\r\n    // 根据id删除对应的用户信息\r\n    async removeUserById(id) {\r\n      // 弹框提示用户是否删除数据\r\n      const confirmResult = await this.$confirm('此操作将永久删除该用户，是否继续？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).catch(error => error)\r\n      // console.log(confirmResult) // 确定：'confirm' 取消：报错:cancel catch之后就是'canel'\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已经取消删除')\r\n      }\r\n      // console.log('确认了删除')\r\n      const { data: result } = await this.$http.delete('users/' + id)\r\n      if (result.meta.status !== 200) {\r\n        return this.$message.error('删除用户失败')\r\n      }\r\n      this.$message.success('删除用户成功')\r\n      this.getUserList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7c4cd1fd&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c4cd1fd\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","path","_v","on","getUserList","model","value","queryInfo","query","callback","$$v","$set","expression","slot","$event","addDialogVisible","staticStyle","userList","scopedSlots","_u","key","fn","scope","userStateChange","row","mg_state","showEditDialog","id","removeUserById","pagenum","pagesize","total","handleSizeChange","handleCurrentChange","addDialogClosed","ref","addForm","addFormRules","userid","username","password","email","mobile","staticClass","addUser","editDialogVisible","editDialogClosed","editForm","editUserInfo","staticRenderFns","data","checkMoblie","rule","regMoblie","test","Error","sex","required","message","trigger","min","max","type","validator","methods","newSize","newPage","userinfo","console","log","result","$http","put","meta","status","$message","error","success","$refs","addFormRef","resetFields","validate","valid","post","get","editFormRef","confirmResult","$confirm","confirmButtonText","cancelButtonText","catch","info","delete","component"],"sourceRoot":""}